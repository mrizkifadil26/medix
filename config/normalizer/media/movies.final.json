{
  "root": "output/scanned/media/movies.final.json",
  "fields": [
    {
      "name": "items.#.name",
      "actions": [
        {
          "type": "replace",
          "params": {
            "from": " - ",
            "to": ": "
          }
        },
        {
          "type": "extract",
          "params": {
            "pattern": "title"
          },
          "target": "items.#.metadata.title"
        },
        {
          "type": "extract",
          "params": {
            "pattern": "bracketYear"
          },
          "target": "items.#.metadata.year"
        }
      ]
    },
    {
      "name": "items.#",
      "actions": [
        {
          "type": "format",
          "params": {
            "template": "{{metadata.title}} ({{metadata.year}})"
          },
          "target": "items.#.displayName"
        }
      ]
    },
    {
      "name": "items.#",
      "actions": [
        {
          "type": "format",
          "params": {
            "template": "{{metadata.title}}-{{metadata.year}}"
          },
          "target": "items.#.slug"
        }
      ]
    },
    {
      "name": "items.#.slug",
      "actions": [
        {
          "type": "transform",
          "params": {
            "methods": [
              "lowercase",
              "unicode",
              "sanitize",
              "slugify"
            ]
          },
          "target": "items.#.slug"
        }
      ]
    }
  ]
}
